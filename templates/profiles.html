<!-- templates/profiles.html -->
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ü—Ä–æ—Ñ–∏–ª–∏</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>–ü—Ä–æ—Ñ–∏–ª–∏</h1>
    <a href="{{ url_for('index') }}" class="back-link">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>

    <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è -->
    <div class="form-section" style="max-width: 600px; margin: 30px 0;">
        <h2>–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</h2>
        <form method="post" action="{{ url_for('profiles') }}">
            <div class="form-group">
                <label for="name">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è *</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
                <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                <textarea id="description" name="description"></textarea>
            </div>
            <div class="form-group">
                <label for="is_selected">–ê–∫—Ç–∏–≤–µ–Ω</label>
                <input type="checkbox" id="is_selected" name="is_selected">
            </div>
            <div class="form-group">
                <label for="group_id">–ì—Ä—É–ø–ø–∞</label>
                <select id="group_id" name="group_id">
                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É --</option>
                    {% for group in groups %}
                        <option value="{{ group.id }}">{{ group.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="rule_id">–ü—Ä–∞–≤–∏–ª–æ</label>
                <select id="rule_id" name="rule_id">
                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–æ --</option>
                    {% for param in parameters %}
                        <option value="{{ param.id }}">{{ param.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="severity">–£—Ä–æ–≤–µ–Ω—å –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏ *</label>
                <select id="severity" name="severity" required>
                    <option value="low">–ù–∏–∑–∫–∏–π</option>
                    <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                    <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                </select>
            </div>
            <div class="form-group">
                <label for="title">–ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
                <input type="text" id="title" name="title">
            </div>
            <div class="form-group">
                <label for="content_href">–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç</label>
                <input type="url" id="content_href" name="content_href">
            </div>
            <button type="submit" class="submit-btn">–î–æ–±–∞–≤–∏—Ç—å</button>
        </form>
    </div>

    <!-- –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π -->
    <table class="parameters-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                <th>–ê–∫—Ç–∏–≤–µ–Ω</th>
                <th>–ì—Ä—É–ø–ø–∞</th>
                <th>–ü—Ä–∞–≤–∏–ª–æ</th>
                <th>–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for profile in profiles %}
            <tr>
                <td>{{ profile.id }}</td>
                <td>{{ profile.name }}</td>
                <td>{{ profile.description or '' }}</td>
                <td>{{ '‚úÖ' if profile.is_selected else '‚ùå' }}</td>
                <td>{{ profile.group.name if profile.group else '' }}</td>
                <td>{{ profile.rule.name if profile.rule else '' }}</td>
                <td>{{ profile.severity }}</td>
                <td class="action-links">
                    <a href="#">‚úèÔ∏è</a>
                    <a href="#">üóëÔ∏è</a>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="8" style="text-align:center; color:#888;">–ü—Ä–æ—Ñ–∏–ª–µ–π –ø–æ–∫–∞ –Ω–µ—Ç</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
